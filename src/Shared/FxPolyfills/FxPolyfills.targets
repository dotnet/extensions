<Project>
  <PropertyGroup>
    <SharedFxPolyfillsDir>$(MSBuildThisFileDirectory)</SharedFxPolyfillsDir>
    <!-- https://github.com/dotnet/extensions/issues/6871 tracks enabling these -->
    <NoWarn>$(NoWarn);CS8763;CS8777;CS8603;CA1031;IDE0058;S108;S2166;S2302;S2333;S2486;S3400;SA1402;SA1509;SA1515;SA1649;EA0014;LA0001;VSTHRD003</NoWarn>
  </PropertyGroup>

  <ItemGroup>
    <Reference Condition=" '$(TargetFramework)' != 'netstandard2.0' " Include="System.Net.Http" />

    <Using Include="System.Net.Http" />
    <Using Include="System.Threading.Tasks" />
  </ItemGroup>

  <ItemGroup>
    <ExcludedFrameworkPolyfills
      Condition="'@(PackageReference->WithMetadataValue('Identity', 'Microsoft.Bcl.TimeProvider'))' == ''"
      Include="$(SharedFxPolyfillsDir)Task.TimeProvider.cs" />

    <Compile Include="$(SharedFxPolyfillsDir)*.cs" 
             Exclude="@(ExcludedFrameworkPolyfills)" 
             Link="FxPolyfills/%(Filename).cs" />
  </ItemGroup>

</Project>
